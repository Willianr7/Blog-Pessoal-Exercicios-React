{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GENBR130\\\\Desktop\\\\React2\\\\blog-pessoal\\\\src\\\\paginas\\\\login\\\\Login.tsx\",\n  _s = $RefreshSig$();\nimport { Button, Grid, TextField, Typography } from '@material-ui/core';\nimport { Box } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useLocalStorage from 'react-use-localstorage';\nimport { api } from '../../services/Service';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  let navigate = useNavigate();\n  const [token, setToken] = useLocalStorage('token');\n  const [userLogin, setUserLogin] = useState({\n    id: 0,\n    usuario: '',\n    senha: '',\n    token: ''\n  });\n  function updateModel(e) {\n    setUserLogin({\n      ...userLogin,\n      [e.target.name]: e.target.value\n    });\n  }\n  useEffect(() => {\n    if (token != '') {\n      navigate('/home');\n    }\n  }, [token]);\n  async function onSubmit(e) {\n    e.preventDefault();\n    try {\n      const resposta = await api.post(`/usuarios/logar`, userLogin);\n      setToken(resposta.data.token);\n      alert('Usuário logado com sucesso');\n    } catch (error) {\n      alert('Dados do usuário inconsistentes, Erro ao logar!');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    direction: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      alignItems: \"center\",\n      xs: 6,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        padding: 20,\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h3\",\n            gutterBottom: true,\n            color: \"textPrimary\",\n            component: \"h3\",\n            align: \"center\",\n            children: \"Entrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"usuario\",\n            value: userLogin.usuario,\n            onChange: e => updateModel(e),\n            label: \"usu\\xE1rio\",\n            variant: \"outlined\",\n            name: \"usuario\",\n            margin: \"normal\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"senha\",\n            value: userLogin.senha,\n            onChange: e => updateModel(e),\n            label: \"senha\",\n            variant: \"outlined\",\n            name: \"senha\",\n            margin: \"normal\",\n            type: \"password\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            marginTop: 2,\n            textAlign: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              children: \"Logar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginTop: 2,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            marginRight: 1,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              align: \"center\",\n              children: \"N\\xE3o tem uma conta?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/cadastrousuario\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              align: \"center\",\n              className: \"textos1\",\n              children: \"Cadastre-se\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      xs: 6,\n      className: \"imagem\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"m+T/8111C/xZnPV5Uwyb8fo8BSE=\", false, function () {\n  return [useNavigate, useLocalStorage];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Button","Grid","TextField","Typography","Box","React","useEffect","useState","Link","useNavigate","useLocalStorage","api","Login","navigate","token","setToken","userLogin","setUserLogin","id","usuario","senha","updateModel","e","target","name","value","onSubmit","preventDefault","resposta","post","data","alert","error"],"sources":["C:/Users/GENBR130/Desktop/React2/blog-pessoal/src/paginas/login/Login.tsx"],"sourcesContent":["import { Button, Grid, TextField, Typography } from '@material-ui/core';\nimport { Box } from '@mui/material';\nimport React, { ChangeEvent, useEffect, useState } from 'react';\nimport { Link, useNavigate, } from 'react-router-dom';\nimport useLocalStorage from 'react-use-localstorage';\nimport UserLogin from '../../models/UserLogin';\nimport { api } from '../../services/Service';\nimport './Login.css'\n\nfunction Login() {\n\n    let navigate = useNavigate();\n    const [token, setToken] = useLocalStorage('token');\n    const [userLogin, setUserLogin] = useState<UserLogin>(\n        {\n            id: 0,\n            usuario: '',\n            senha: '',\n            token: ''\n        }\n    )\n\n    function updateModel(e: ChangeEvent<HTMLInputElement>) {\n\n        setUserLogin({\n            ...userLogin,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    useEffect(() => {\n        if (token != '') {\n            navigate('/home')\n        }\n    }, [token])\n\n    async function onSubmit(e: ChangeEvent<HTMLFormElement>) {\n        e.preventDefault();\n\n        try {\n            const resposta = await api.post(`/usuarios/logar`, userLogin)\n            setToken(resposta.data.token)\n\n            alert('Usuário logado com sucesso')\n        } catch(error) {\n            alert('Dados do usuário inconsistentes, Erro ao logar!');\n        }\n    }\n\n    return (\n        <Grid container direction='row' justifyContent='center' alignItems='center'>\n            <Grid alignItems='center' xs={6}>\n                <Box padding={20}>\n                    <form onSubmit={onSubmit}>\n                        <Typography variant='h3' gutterBottom color='textPrimary' component='h3' align='center'>Entrar</Typography>\n                        <TextField id='usuario' value={userLogin.usuario} onChange={(e: ChangeEvent<HTMLInputElement>) => updateModel(e)} label='usuário' variant='outlined' name='usuario' margin='normal' fullWidth />\n                        <TextField id='senha' value={userLogin.senha} onChange={(e: ChangeEvent<HTMLInputElement>) => updateModel(e)} label='senha' variant='outlined' name='senha' margin='normal' type='password' fullWidth />\n                        <Box marginTop={2} textAlign='center'>\n                            <Button type='submit' variant='contained' color='primary'>\n                                Logar\n                            </Button>\n                        </Box>\n                    </form>\n                    <Box display='flex' justifyContent='center' marginTop={2}>\n                        <Box marginRight={1}>\n                            <Typography variant='subtitle1' gutterBottom align='center'>Não tem uma conta?</Typography>\n                        </Box>\n                        <Link to='/cadastrousuario'>\n                            <Typography variant='subtitle1' gutterBottom align='center' className='textos1'>Cadastre-se</Typography>\n                        </Link>\n                    </Box>\n                </Box>\n            </Grid>\n            <Grid xs={6} className='imagem'>\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}