{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GENBR130\\\\Desktop\\\\React2\\\\blog-pessoal\\\\src\\\\components\\\\temas\\\\cadastroTema\\\\CadastroTema.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, TextField, Button } from \"@material-ui/core\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport './CadastroTema.css';\nimport { buscaId, post, put } from '../../../services/Service';\nimport { useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CadastroTema() {\n  _s();\n  let navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const token = useSelector(state => state.tokens);\n  const [tema, setTema] = useState({\n    id: 0,\n    descricao: ''\n  });\n  useEffect(() => {\n    if (token == \"\") {\n      toast.error('Você precisa estar logado', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n      navigate(\"/login\");\n    }\n  }, [token]);\n  useEffect(() => {\n    if (id !== undefined) {\n      findById(id);\n    }\n  }, [id]);\n  async function findById(id) {\n    buscaId(`/tema/${id}`, setTema, {\n      headers: {\n        'Authorization': token\n      }\n    });\n  }\n  function updatedTema(e) {\n    setTema({\n      ...tema,\n      [e.target.name]: e.target.value\n    });\n  }\n  async function onSubmit(e) {\n    e.preventDefault();\n    console.log(\"tema \" + JSON.stringify(tema));\n    if (id !== undefined) {\n      console.log(tema);\n      put(`/tema`, tema, setTema, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      toast.success('Tema atualizado com sucesso', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n    } else {\n      post(`/tema`, tema, setTema, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      toast.success('Tema cadastrado com sucesso', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n    }\n    back();\n  }\n  function back() {\n    navigate('/temas');\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    className: \"topo\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        color: \"textSecondary\",\n        component: \"h1\",\n        align: \"center\",\n        children: \"Formul\\xE1rio de cadastro tema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: tema.descricao,\n        onChange: e => updatedTema(e),\n        id: \"descricao\",\n        label: \"descricao\",\n        variant: \"outlined\",\n        name: \"descricao\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Finalizar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n_s(CadastroTema, \"OEcZdzCFNC34W5axNm7uBOn3+bk=\", false, function () {\n  return [useNavigate, useParams, useSelector];\n});\n_c = CadastroTema;\nexport default CadastroTema;\nvar _c;\n$RefreshReg$(_c, \"CadastroTema\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","TextField","Button","useNavigate","useParams","buscaId","post","put","useSelector","toast","CadastroTema","navigate","id","token","state","tokens","tema","setTema","descricao","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","theme","progress","undefined","findById","headers","updatedTema","e","target","name","value","onSubmit","preventDefault","console","log","JSON","stringify","success","back"],"sources":["C:/Users/GENBR130/Desktop/React2/blog-pessoal/src/components/temas/cadastroTema/CadastroTema.tsx"],"sourcesContent":["import React, {useState, useEffect, ChangeEvent} from 'react'\nimport { Container, Typography, TextField, Button } from \"@material-ui/core\"\nimport {useNavigate, useParams } from 'react-router-dom'\nimport './CadastroTema.css';\nimport Tema from '../../../models/Tema';\nimport { buscaId, post, put } from '../../../services/Service';\nimport { useSelector } from 'react-redux';\nimport { TokenState } from '../../../store/tokens/tokensReducer';\nimport { toast } from 'react-toastify';\n\n\nfunction CadastroTema() {\n    let navigate = useNavigate();\n    const { id } = useParams<{id: string}>();\n    const token = useSelector<TokenState, TokenState[\"tokens\"]>(\n        (state) => state.tokens\n      );\n    const [tema, setTema] = useState<Tema>({\n        id: 0,\n        descricao: ''\n    })\n\n    useEffect(() => {\n        if (token == \"\") {\n            toast.error('Você precisa estar logado', {\n                position: \"top-right\",\n                autoClose: 2000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: false,\n                draggable: false,\n                theme: \"colored\",\n                progress: undefined,\n                });\n            navigate(\"/login\")\n    \n        }\n    }, [token])\n\n    useEffect(() =>{\n        if(id !== undefined){\n            findById(id)\n        }\n    }, [id])\n\n    async function findById(id: string) {\n        buscaId(`/tema/${id}`, setTema, {\n            headers: {\n              'Authorization': token\n            }\n          })\n        }\n\n        function updatedTema(e: ChangeEvent<HTMLInputElement>) {\n\n            setTema({\n                ...tema,\n                [e.target.name]: e.target.value,\n            })\n    \n        }\n        \n        async function onSubmit(e: ChangeEvent<HTMLFormElement>) {\n            e.preventDefault()\n            console.log(\"tema \" + JSON.stringify(tema))\n    \n            if (id !== undefined) {\n                console.log(tema)\n                put(`/tema`, tema, setTema, {\n                    headers: {\n                        'Authorization': token\n                    }\n                })\n                toast.success('Tema atualizado com sucesso', {\n                    position: \"top-right\",\n                    autoClose: 2000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: false,\n                    draggable: false,\n                    theme: \"colored\",\n                    progress: undefined,\n                    });\n            } else {\n                post(`/tema`, tema, setTema, {\n                    headers: {\n                        'Authorization': token\n                    }\n                })\n                toast.success('Tema cadastrado com sucesso', {\n                    position: \"top-right\",\n                    autoClose: 2000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: false,\n                    draggable: false,\n                    theme: \"colored\",\n                    progress: undefined,\n                    });\n            }\n            back()\n    \n        }\n    \n        function back() {\n            navigate('/temas')\n        }\n  \n    return (\n        <Container maxWidth=\"sm\" className=\"topo\">\n            <form onSubmit={onSubmit}>\n                <Typography variant=\"h3\" color=\"textSecondary\" component=\"h1\" align=\"center\" >Formulário de cadastro tema</Typography>\n                <TextField value={tema.descricao} onChange={(e: ChangeEvent<HTMLInputElement>) => updatedTema(e)} id=\"descricao\" label=\"descricao\" variant=\"outlined\" name=\"descricao\" margin=\"normal\" fullWidth />\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n                    Finalizar\n                </Button>\n            </form>\n        </Container>\n    )\n}\n\nexport default CadastroTema;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}